
> deployify@0.1.0 dev
> next dev

▲ Next.js 16.1.6 (Turbopack)
- Local:         http://localhost:3000
- Network:       http://192.168.0.2:3000
- Experiments (use with caution):
  · serverActions

✓ Starting...
Attention: Next.js now collects completely anonymous telemetry regarding usage.
This information is used to shape Next.js' roadmap and prioritize features.
You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
https://nextjs.org/telemetry

⚠ The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
✓ Ready in 1511ms
○ Compiling /dashboard ...
 GET /dashboard 200 in 7.5s (compile: 6.8s, proxy.ts: 140ms, render: 522ms)
 GET /login 200 in 1221ms (compile: 972ms, proxy.ts: 11ms, render: 238ms)
In-house collector error: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 POST /api/v1/collect 500 in 5.0s (compile: 2.2s, proxy.ts: 7ms, render: 2.8s)
○ Compiling /dashboard/[id] ...
 GET /dashboard/test-project 200 in 4.7s (compile: 4.5s, proxy.ts: 4ms, render: 151ms)
 GET /login 200 in 258ms (compile: 19ms, proxy.ts: 8ms, render: 230ms)
In-house collector error: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 POST /api/v1/collect 500 in 209ms (compile: 8ms, proxy.ts: 7ms, render: 194ms)
 GET /dashboard 200 in 130ms (compile: 6ms, proxy.ts: 5ms, render: 119ms)
In-house collector error: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above 2 lines 2 times...
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 POST /api/v1/collect 500 in 290ms (compile: 7ms, proxy.ts: 6ms, render: 277ms)
Error listing teams: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above 2 lines 2 times...
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 GET /api/teams 500 in 662ms (compile: 468ms, proxy.ts: 4ms, render: 190ms)
In-house collector error: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above 2 lines 2 times...
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 POST /api/v1/collect 500 in 149ms (compile: 15ms, proxy.ts: 5ms, render: 129ms)
 GET /dashboard/test-project 200 in 385ms (compile: 42ms, proxy.ts: 4ms, render: 339ms)
Error listing teams: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above 2 lines 2 times...
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 GET /api/teams 500 in 180ms (compile: 21ms, proxy.ts: 11ms, render: 149ms)
In-house collector error: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above 2 lines 2 times...
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above lines ...
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 POST /api/v1/collect 500 in 393ms (compile: 162ms, proxy.ts: 10ms, render: 221ms)
Error getting deployments: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above 2 lines 2 times...
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above lines ...
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 GET /api/projects/test-project/deployments 500 in 1825ms (compile: 1631ms, proxy.ts: 10ms, render: 183ms)
Error checking project access: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above 2 lines 2 times...
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above lines ...
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 GET /api/projects/test-project/logs/stats 500 in 1998ms (compile: 1814ms, proxy.ts: 10ms, render: 174ms)
 GET / 200 in 3.2s (compile: 2.9s, proxy.ts: 5ms, render: 311ms)
Error listing teams: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above 2 lines 2 times...
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above lines ...
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 GET /api/teams 500 in 223ms (compile: 4ms, proxy.ts: 4ms, render: 215ms)
In-house collector error: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above 2 lines 2 times...
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above lines ...
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 POST /api/v1/collect 500 in 173ms (compile: 3ms, proxy.ts: 4ms, render: 165ms)
 GET /dashboard/test-project 200 in 221ms (compile: 106ms, proxy.ts: 4ms, render: 111ms)
In-house collector error: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above 2 lines 2 times...
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above lines ...
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 POST /api/v1/collect 500 in 229ms (compile: 20ms, proxy.ts: 7ms, render: 201ms)
Error listing teams: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above 2 lines 2 times...
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above lines ...
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 GET /api/teams 500 in 454ms (compile: 20ms, proxy.ts: 6ms, render: 428ms)
Error getting deployments: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above 2 lines 2 times...
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above lines ...
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 GET /api/projects/test-project/deployments 500 in 657ms (compile: 274ms, proxy.ts: 8ms, render: 375ms)
Error checking project access: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above 2 lines 2 times...
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above lines ...
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 GET /api/projects/test-project/logs/stats 500 in 977ms (compile: 695ms, proxy.ts: 6ms, render: 275ms)
 GET / 200 in 133ms (compile: 13ms, proxy.ts: 8ms, render: 112ms)
Error listing teams: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above 2 lines 2 times...
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above lines ...
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 GET /api/teams 500 in 394ms (compile: 3ms, proxy.ts: 3ms, render: 388ms)
In-house collector error: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above 2 lines 2 times...
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above lines ...
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 POST /api/v1/collect 500 in 339ms (compile: 16ms, proxy.ts: 27ms, render: 296ms)
 GET /dashboard/test-project/settings 200 in 1862ms (compile: 1752ms, proxy.ts: 3ms, render: 106ms)
Error listing teams: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above 2 lines 2 times...
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above lines ...
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 GET /api/teams 500 in 218ms (compile: 12ms, proxy.ts: 8ms, render: 197ms)
In-house collector error: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above 2 lines 2 times...
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above lines ...
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above lines ...
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 POST /api/v1/collect 500 in 392ms (compile: 205ms, proxy.ts: 5ms, render: 182ms)
Error getting deployments: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above 2 lines 2 times...
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above lines ...
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above lines ...
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 GET /api/projects/test-project/deployments 500 in 694ms (compile: 456ms, proxy.ts: 7ms, render: 231ms)
Error checking project access: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above 2 lines 2 times...
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above lines ...
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above lines ...
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 GET /api/projects/test-project/logs/stats 500 in 931ms (compile: 503ms, proxy.ts: 7ms, render: 421ms)
Error checking project access: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above 2 lines 2 times...
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above lines ...
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above lines ...
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/env/route.ts:25:48)
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 GET /api/projects/test-project/env 500 in 1920ms (compile: 1680ms, proxy.ts: 5ms, render: 235ms)
Error checking project access: Error: Unable to detect a Project Id in the current environment.
To learn more about authentication and Google APIs, visit:
https://cloud.google.com/docs/authentication/getting-started
    at <unknown> (https://cloud.google.com/docs/authentication/getting-started)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above 2 lines 2 times...
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above lines ...
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at listTeamsWithMembership (src/lib/db.ts:404:10)
    at GET (src/app/api/teams/route.ts:18:52)
    at getProjectByApiKey (src/lib/db.ts:166:10)
    at POST (src/app/api/v1/collect/route.ts:53:49)
    ... collapsed 4 duplicate lines matching above lines ...
    at getProjectById (src/lib/db.ts:469:67)
    at GET (src/app/api/projects/[id]/deployments/route.ts:22:45)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/logs/stats/route.ts:24:48)
    at getProjectById (src/lib/db.ts:469:67)
    at checkProjectAccess (src/middleware/rbac.ts:10:45)
    at GET (src/app/api/projects/[id]/env/route.ts:25:48)
    ... collapsed 3 duplicate lines matching above lines ...
  164 |         .where('analyticsApiKey', '==', apiKey)
  165 |         .limit(1)
> 166 |         .get();
      |          ^
  167 |
  168 |     if (snapshot.empty) {
  169 |         return null;
 GET /api/projects/test-project/env 500 in 2.1s (compile: 1682ms, proxy.ts: 6ms, render: 401ms)
Error: aborted
    at ignore-listed frames {
  code: 'ECONNRESET'
}
⨯ uncaughtException: Error: aborted
    at ignore-listed frames {
  code: 'ECONNRESET'
}
⨯ uncaughtException:  Error: aborted
    at ignore-listed frames {
  code: 'ECONNRESET'
}
